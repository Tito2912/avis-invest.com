const $=(e,t=document)=>t.querySelector(e),$$=(e,t=document)=>Array.from(t.querySelectorAll(e)),storage={get(e,t=null){try{return JSON.parse(localStorage.getItem(e))??t}catch{return t}},set(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch{}},del(e){try{localStorage.removeItem(e)}catch{}}},isBot=()=>{const e=(navigator.userAgent||"").toLowerCase();return/(bot|crawler|spider|bingpreview|google|yahoo|duckduckbot|baiduspider|yandex|sogou|exabot|facebot|ia_archiver|headlesschrome|semrush)/.test(e)},isFrenchNavigator=()=>(navigator.languages&&navigator.languages.length?navigator.languages:[navigator.language||""]).some(e=>/^fr(-|$)/i.test(e)),pathIsEnglish=()=>"/en/"===location.pathname||location.pathname.startsWith("/en/"),pathIsFrench=()=>!pathIsEnglish(),runWhenIdle=(e,t=800)=>{"requestIdleCallback"in window?requestIdleCallback(()=>{try{e()}catch(e){}},{timeout:t}):setTimeout(()=>{try{e()}catch(e){}},0)};function hydrateAffiliateLinks(){isBot()||$$("a[data-aff]").forEach(e=>{const t=e.getAttribute("data-aff");if(!t||e.dataset.affHydrated)return;e.setAttribute("href",t),e.dataset.affHydrated="1";const n=new Set((e.getAttribute("rel")||"").split(/\s+/).filter(Boolean));n.add("sponsored"),n.add("noopener"),e.setAttribute("rel",Array.from(n).join(" "))})}function initLang(){const e=storage.get("preferred_lang");if($$(".lang-switch [data-lang]").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-lang");storage.set("preferred_lang","en"===t?"en":"fr")})}),!isBot()&&e){const n=location.pathname.replace(/\/+$/,"")||"/";if("en"===e&&pathIsFrench()){const e="/"===(t=n)||"/index.html"===t?"/en/":"/blog.html"===t||"/blog"===t?"/en/blog/":"/blog-1.html"===t||"/blog-1"===t?"/en/blog-1/":"/mentions-legales.html"===t||"/mentions-legales"===t?"/en/legal-notice/":"/politiques-de-confidentialite.html"===t||"/politiques-de-confidentialite"===t?"/en/privacy-policy/":"/en/";if(e&&e!==n)return void location.replace(e)}if("fr"===e&&pathIsEnglish()){const e=(e=>"/en/"===e||"/en/index.html"===e?"/":"/en/blog.html"===e||"/en/blog"===e?"/blog/":"/en/blog-1.html"===e||"/en/blog-1"===e?"/blog-1/":"/en/legal-notice.html"===e||"/en/legal-notice"===e?"/mentions-legales/":"/en/privacy-policy.html"===e||"/en/privacy-policy"===e?"/politiques-de-confidentialite/":"/")(n);e&&e!==n&&location.replace(e)}}var t}!function(){const e=$(".burger"),t=$("#nav-menu");if(!e||!t)return;const n=()=>{e.setAttribute("aria-expanded","false"),t.classList.remove("open")};e.addEventListener("click",()=>{"true"===e.getAttribute("aria-expanded")?n():(()=>{e.setAttribute("aria-expanded","true"),t.classList.add("open");const n=t.querySelector("a, button");n&&n.focus()})()}),t.addEventListener("click",e=>{e.target.closest("a")&&n()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&n()})}(),document.addEventListener("click",e=>{const t=e.target.closest('a[href^="#"]');if(!t)return;const n=t.getAttribute("href").slice(1);if(!n)return;const o=document.getElementById(n);o&&(e.preventDefault(),o.scrollIntoView({behavior:"smooth",block:"start"}),history.pushState(null,"",`#${n}`))}),$$('a[target="_blank"]').forEach(e=>{const t=(e.getAttribute("rel")||"").toLowerCase(),n=new Set(t.split(/\s+/).filter(Boolean));n.add("noopener"),/med\.etoro\.com/.test(e.href)&&n.add("sponsored"),e.setAttribute("rel",Array.from(n).join(" "))}),runWhenIdle(hydrateAffiliateLinks,200),runWhenIdle(initLang,400);const consentKeys=["analytics_storage","ad_storage","ad_user_data","ad_personalization"],defaultConsent={functionality_storage:"granted",security_storage:"granted",analytics_storage:"denied",ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"};function getConsentState(){return storage.get("cookie_consent",{...defaultConsent,setAt:0})}function saveConsentState(e){storage.set("cookie_consent",{...e,setAt:Date.now()})}function applyConsentToGtag(e){"function"==typeof gtag&&gtag("consent","update",{functionality_storage:e.functionality_storage,security_storage:e.security_storage,analytics_storage:e.analytics_storage,ad_storage:e.ad_storage,ad_user_data:e.ad_user_data,ad_personalization:e.ad_personalization})}let banner,btnAccept,btnDecline,btnCustomize,btnSave,prefsForm,openPrefsLink,gaLoaded=!1;function loadGA(){if(gaLoaded)return;const e=window.__GA_MEASUREMENT_ID__;if(!e)return;const t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${encodeURIComponent(e)}`,t.onload=()=>{function t(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||t,t("js",new Date),t("config",e,{transport_type:"beacon",anonymize_ip:!0})},document.head.appendChild(t),gaLoaded=!0}function gateYouTube(e){const t=$$("section.video-section iframe");if(!t.length)return;const n=(document.documentElement.getAttribute("lang")||"fr").toLowerCase().startsWith("fr")?{msg:"Pour afficher cette vidéo YouTube, veuillez autoriser le chargement de contenus externes (statistiques).",manage:"Gérer mes préférences",allow:"Autoriser pour cette session"}:{msg:"To display this YouTube video, please allow external content (analytics) to load.",manage:"Manage preferences",allow:"Allow for this session"};t.forEach(t=>{if(!t.dataset.srcOriginal){const e=t.getAttribute("data-src"),n=t.getAttribute("src"),o=e&&"about:blank"!==e?e:n&&"about:blank"!==n?n:"";t.dataset.srcOriginal=o||""}const o=t.dataset.srcOriginal,a=t.parentElement;let r=a.querySelector(".yt-consent-overlay");e?(r&&r.remove(),o&&t.getAttribute("src")!==o&&t.setAttribute("src",o)):(t.getAttribute("src")&&"about:blank"!==t.getAttribute("src")&&t.setAttribute("src","about:blank"),r||(r=document.createElement("div"),r.className="yt-consent-overlay",r.innerHTML=`\n          <div class="yt-consent-box">\n            <p>${n.msg}</p>\n            <div class="actions">\n              <button class="btn cta" data-action="open-prefs">${n.manage}</button>\n              <button class="btn ghost" data-action="allow-now">${n.allow}</button>\n            </div>\n          </div>`,"static"===getComputedStyle(a).position&&(a.style.position="relative"),a.appendChild(r)),r.dataset.listenerAttached||(r.addEventListener("click",e=>{const n=e.target.closest("button[data-action]");if(!n)return;const o=n.getAttribute("data-action");"open-prefs"===o?openCookieBanner(!0):"allow-now"===o&&(t.dataset.srcOriginal&&t.setAttribute("src",t.dataset.srcOriginal),r.remove())}),r.dataset.listenerAttached="true"))})}function populatePrefs(e=!1){if(!prefsForm)return;const t=getConsentState();$$("input[data-consent]").forEach(n=>{const o=n.getAttribute("data-consent");n.checked=!(!e||"functionality_storage"===o)||"granted"===(t[o]||"denied")})}function openCookieBanner(e=!1){banner&&(banner.hidden=!1,document.body.style.overflow="hidden",e&&prefsForm&&(prefsForm.hidden=!1,prefsForm.style.display="",populatePrefs(window.__CONSENT_NEVER_SET)),setTimeout(()=>banner.querySelector(".cookie-content")?.focus(),0))}function closeCookieBanner(){banner&&(banner.hidden=!0,document.body.style.overflow="")}function grantAll(){const e={...defaultConsent,analytics_storage:"granted",ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"};saveConsentState(e),applyConsentToGtag(e),"granted"===e.analytics_storage&&loadGA(),gateYouTube("granted"===e.analytics_storage),closeCookieBanner(),window.__CONSENT_NEVER_SET=!1}function denyAll(){const e={...defaultConsent,analytics_storage:"denied",ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"};saveConsentState(e),applyConsentToGtag(e),gateYouTube(!1),closeCookieBanner(),window.__CONSENT_NEVER_SET=!1}function saveCustom(){const e={...defaultConsent};$$("input[data-consent]").forEach(t=>{const n=t.getAttribute("data-consent");e[n]=t.checked?"granted":"denied"}),saveConsentState(e),applyConsentToGtag(e),"granted"===e.analytics_storage&&loadGA(),gateYouTube("granted"===e.analytics_storage),closeCookieBanner(),window.__CONSENT_NEVER_SET=!1}function applyStoredConsent(){const e=getConsentState(),t=!e.setAt||"number"!=typeof e.setAt||e.setAt<=0;window.__CONSENT_NEVER_SET=t,applyConsentToGtag(e),"granted"===e.analytics_storage&&loadGA(),gateYouTube("granted"===e.analytics_storage),t&&openCookieBanner(!1)}function initConsentSuite(){banner=$("#cookie-banner"),btnAccept=$("#cookie-accept"),btnDecline=$("#cookie-decline"),btnCustomize=$("#cookie-customize"),btnSave=$("#cookie-save"),prefsForm=$("#cookie-preferences"),openPrefsLink=$("#open-cookie-settings"),window.__CONSENT_NEVER_SET=!0,btnAccept&&btnAccept.addEventListener("click",grantAll),btnDecline&&btnDecline.addEventListener("click",denyAll),btnCustomize&&btnCustomize.addEventListener("click",()=>{prefsForm&&(prefsForm.hidden=!1,prefsForm.style.display="",populatePrefs(window.__CONSENT_NEVER_SET))}),btnSave&&btnSave.addEventListener("click",saveCustom),openPrefsLink&&openPrefsLink.addEventListener("click",e=>{e.preventDefault(),openCookieBanner(!0)}),applyStoredConsent()}function pingIndexNow(){try{if(isBot())return;const e=storage.get("indexnow_ping_ts",0),t=Date.now();if(e&&t-e<864e5)return;const n="fdc6bf2419b4402ca76ec51012a209e2",o=location.origin.replace(/\/+$/,"");if(!/^https?:/i.test(o))return;const a=`${o}${location.pathname}${location.search||""}`,r=`${o}/fdc6bf2419b4402ca76ec51012a209e2.txt`,i=`url=${encodeURIComponent(a)}&key=${n}&keyLocation=${encodeURIComponent(r)}`,s=[`https://api.indexnow.org/indexnow?${i}`,`https://www.bing.com/indexnow?${i}`],c=e=>{const t=window.__indexnowImgs||(window.__indexnowImgs=[]);t.push(e);e.onload=e.onerror=e.onabort=()=>{const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},l=e=>{try{const t=new Image;return t.referrerPolicy="no-referrer",c(t),t.src=e,!0}catch(e){return!1}},d=e=>{let t=!1;if("fetch"in window)try{fetch(e,{method:"GET",mode:"no-cors",keepalive:!0,cache:"no-store"}).catch(()=>{l(e)}),t=!0}catch(n){t=l(e)||t}else t=l(e)||t;return t};let u=!1;s.forEach(e=>{d(e)&&(u=!0)}),u&&storage.set("indexnow_ping_ts",t)}catch(e){}}runWhenIdle(initConsentSuite,400),function(){const e=$('a[href="#main-content"]');e&&e.addEventListener("click",e=>{const t=$("#main-content");t&&(t.setAttribute("tabindex","-1"),t.focus(),setTimeout(()=>t.removeAttribute("tabindex"),1e3))})}(),function(){const e=document.createElement("style");e.textContent="\n  .yt-consent-overlay{\n    position:absolute; inset:0; display:flex; align-items:center; justify-content:center;\n    background: rgba(0,0,0,0.6); color:#fff; text-align:center; padding:1rem; z-index:2;\n  }\n  .yt-consent-box{ max-width:720px; background:rgba(0,0,0,0.35); backdrop-filter:saturate(120%) blur(2px); border-radius:16px; padding:1rem; }\n  .yt-consent-box .actions{ margin-top:0.75rem; display:flex; gap:0.5rem; justify-content:center; flex-wrap:wrap; }\n  .btn.cta{ cursor:pointer; }\n  .btn.ghost{ cursor:pointer; }\n  ",document.head.appendChild(e)}(),function(){try{if(isBot())return;if(pathIsEnglish())return;if(storage.get("preferred_lang"))return;if(isFrenchNavigator())return;const e={"/":"/en/","/index.html":"/en/","/blog":"/en/blog/","/blog.html":"/en/blog/","/blog-1":"/en/blog-1/","/blog-1.html":"/en/blog-1/","/mentions-legales":"/en/legal-notice/","/mentions-legales.html":"/en/legal-notice/","/politiques-de-confidentialite":"/en/privacy-policy/","/politiques-de-confidentialite.html":"/en/privacy-policy/"},t=location.pathname.replace(/\/+$/,"")||"/";e[t]&&location.replace(e[t])}catch(e){}}(),function(){try{if(/bot|crawl|spider/i.test(navigator.userAgent||""))return;if(!window.matchMedia("(max-width: 720px)").matches)return;let t=window.scrollY||0,n=!1,o=!1;function e(){const e=window.scrollY||0,a=e-t;if(t=e,e<10)return n&&(document.body.classList.remove("risk-hidden"),n=!1),void(o=!1);a>4&&!n?(document.body.classList.add("risk-hidden"),n=!0):a<-6&&n&&(document.body.classList.remove("risk-hidden"),n=!1),o=!1}window.addEventListener("scroll",()=>{o||(o=!0,requestAnimationFrame(e))},{passive:!0}),window.addEventListener("resize",()=>{window.matchMedia("(max-width: 720px)").matches||document.body.classList.remove("risk-hidden")})}catch(a){}}(),runWhenIdle(pingIndexNow,2e3);